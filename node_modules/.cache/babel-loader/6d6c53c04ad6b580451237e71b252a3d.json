{"ast":null,"code":"import _slicedToArray from \"/Users/hchidam/Documents/Theta-Tau/THT-Website-Hari/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/hchidam/Documents/Theta-Tau/THT-Website-Hari/src/components/Profile.js\";\nimport React, { useState } from 'react';\nimport firebase from 'firebase/compat/app';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport 'firebase/auth';\nimport 'firebase/database';\nimport 'firebase/firestore';\nfunction Profile() {\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    name = _useState2[0],\n    setName = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    grade = _useState4[0],\n    setGrade = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    position = _useState6[0],\n    setPosition = _useState6[1];\n  var auth = firebase.auth();\n  var _useAuthState = useAuthState(auth),\n    _useAuthState2 = _slicedToArray(_useAuthState, 1),\n    user = _useAuthState2[0]; // Initialize Firebase Database\n  var firestore = firebase.firestore();\n\n  // Sign in with Google\n  var handleSignIn = function handleSignIn() {\n    var provider = new firebase.auth.GoogleAuthProvider();\n    firebase.auth().signInWithPopup(provider);\n  };\n  var handleSignOut = function handleSignOut() {\n    auth.signOut();\n  };\n\n  // Create user profile\n  var handleCreateProfile = function handleCreateProfile() {\n    var userId = user.uid;\n    firestore.collection('users').doc(userId).get().then(function (doc) {\n      if (doc.exists) {\n        var data = doc.data();\n        setName(data.name);\n        setGrade(data.grade);\n        setPosition(data.position);\n      } else {\n        firestore.collection('users').doc(userId).set({\n          name: name,\n          grade: grade,\n          position: position\n        });\n      }\n    }).catch(function (error) {\n      console.log('Error getting document:', error);\n    });\n  };\n  var handleUpdateProfile = function handleUpdateProfile() {};\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, user ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, \"Welcome, \", user.displayName) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, \" Sign in and make a Profile!\"), user && /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, \"Name:\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: name,\n    onChange: function onChange(event) {\n      return setName(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, \"Grade:\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: grade,\n    onChange: function onChange(event) {\n      return setGrade(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, \"Position:\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: position,\n    onChange: function onChange(event) {\n      return setPosition(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }))), user ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleCreateProfile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, \"Create Profile\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleUpdateProfile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, \"Update Profile\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleSignOut,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, \"Sign Out\")) : /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleSignIn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, \"Sign in with Google\"));\n}\nexport default Profile;","map":{"version":3,"names":["React","useState","firebase","useAuthState","Profile","name","setName","grade","setGrade","position","setPosition","auth","user","firestore","handleSignIn","provider","GoogleAuthProvider","signInWithPopup","handleSignOut","signOut","handleCreateProfile","userId","uid","collection","doc","get","then","exists","data","set","catch","error","console","log","handleUpdateProfile","displayName","event","target","value"],"sources":["/Users/hchidam/Documents/Theta-Tau/THT-Website-Hari/src/components/Profile.js"],"sourcesContent":["import React, { useState } from 'react';\nimport firebase from 'firebase/compat/app';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport 'firebase/auth';\nimport 'firebase/database';\nimport 'firebase/firestore';\n\nfunction Profile() {\n  const [name, setName] = useState('');\n  const [grade, setGrade] = useState('');\n  const [position, setPosition] = useState('');\n  const auth = firebase.auth();\n  const [user] = useAuthState(auth);\n\n  // Initialize Firebase Database\n  const firestore = firebase.firestore();\n\n  // Sign in with Google\n  const handleSignIn = () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    firebase.auth().signInWithPopup(provider);\n  };\n\n  const handleSignOut = () => {\n     auth.signOut();\n  }\n\n  // Create user profile\n  const handleCreateProfile = () => {\n    const userId = user.uid;\n    firestore.collection('users').doc(userId).get().then((doc) => {\n      if (doc.exists) {\n        const data = doc.data();\n        setName(data.name);\n        setGrade(data.grade);\n        setPosition(data.position);\n      } else {\n        firestore.collection('users').doc(userId).set({\n          name,\n          grade,\n          position\n        });\n      }\n    }).catch((error) => {\n      console.log('Error getting document:', error);\n    });\n  };\n\n  const handleUpdateProfile = () => {\n    \n  }\n\n\n  return (\n    <div>\n      {user ? (\n        <div>\n          Welcome, {user.displayName}\n        </div>\n      ) : (\n        <div> Sign in and make a Profile!</div>\n      )}\n      {user && (\n        <form>\n          <label>\n            Name:\n            <input\n              type=\"text\"\n              value={name}\n              onChange={(event) => setName(event.target.value)}\n            />\n          </label>\n          <br />\n          <label>\n            Grade:\n            <input\n              type=\"text\"\n              value={grade}\n              onChange={(event) => setGrade(event.target.value)}\n            />\n          </label>\n          <br />\n          <label>\n            Position:\n            <input\n              type=\"text\"\n              value={position}\n              onChange={(event) => setPosition(event.target.value)}\n            />\n          </label>\n        </form>\n      )}\n      {user ? (\n        <div>\n          <button onClick={handleCreateProfile}>Create Profile</button>\n          <button onClick={handleUpdateProfile}>Update Profile</button>\n          <button onClick={handleSignOut}>Sign Out</button>\n        </div>\n      ) : (\n        <button onClick={handleSignIn}>Sign in with Google</button>\n      )}\n    </div>\n  );\n}\n\nexport default Profile;"],"mappings":"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"},"metadata":{},"sourceType":"module"}